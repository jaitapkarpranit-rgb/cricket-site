<!DOCTYPE html>
<html>
<head>
    <title>{{ match.name if match and match.name else "Live Cricket Match" }} | CricketBuzz</title>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W2DN8JBYCG"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-W2DN8JBYCG');
    </script>

    <meta name="description" content="Live scorecard, batting and bowling details for this cricket match on CricketBuzz.">
    <meta name="robots" content="index, follow">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

    {% if not match %}
    <div class="container">
        <h2>Match details not available</h2>
        <p style="color:gray;">
            This match does not have detailed data from the provider.
        </p>
        <p><a href="/">← Back to Matches</a></p>
    </div>
{% else %}

<div class="container">

    <h2>{{ match.name }}</h2>

    <p><strong>Status:</strong> {{ match.status }}</p>
    <p><strong>Venue:</strong> {{ match.venue }}</p>
    <p><strong>Date:</strong> {{ match.date }}</p>

    <hr>

    <h3>Score</h3>

    {% if match.scorecard and match.scorecard.innings %}
    {% for inning in match.scorecard.innings %}
        <p>
        <strong>{{ inning.inning }}</strong><br>
        {% if inning.batting and inning.batting|length > 0 %}
            {{ inning.batting[0].r }}/{{ inning.batting|sum(attribute='w') if false else '' }}
        {% else %}
            <em>Score not available yet</em>
        {% endif %}
        </p>
    {% endfor %}
    {% else %}
    <p style="color:gray;"><em>Score will appear once the match starts.</em></p>
    {% endif %}


    <hr>

    <h3>Batting</h3>

    {% if match.scorecard and match.scorecard.innings %}
    {% for inning in match.scorecard.innings %}
        <h4>{{ inning.inning }}</h4>

        {% if inning.batting and inning.batting|length > 0 %}
        <table border="1" cellpadding="6">
            <tr>
            <th>Batsman</th>
            <th>R</th>
            <th>B</th>
            <th>4s</th>
            <th>6s</th>
            <th>SR</th>
            </tr>

            {% for bat in inning.batting %}
            <tr>
            <td>{{ bat.batsman }}</td>
            <td>{{ bat.r }}</td>
            <td>{{ bat.b }}</td>
            <td>{{ bat.fours }}</td>
            <td>{{ bat.sixes }}</td>
            <td>{{ bat.sr }}</td>
            </tr>
            {% endfor %}
        </table>
        {% else %}
        <p style="color:gray;"><em>Batting data not available yet.</em></p>
        {% endif %}
    {% endfor %}
    {% else %}
    <p style="color:gray;"><em>Batting will appear once play begins.</em></p>
    {% endif %}


    <hr>

    <p><a href="/">← Back to Live Cricket Matches</a></p>


</div>
    {% endif %}
</body>
</html>
